<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infografía: Plan de Recuperación Rápida en AWS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 2.75rem;
            left: -0.875rem;
            width: 1.75rem;
            height: 1.75rem;
            background-color: #0a9396;
            border-radius: 9999px;
            border: 4px solid #f0f9ff;
            z-index: 10;
        }
        .timeline-line {
            position: absolute;
            top: 2.75rem;
            left: 0;
            bottom: 0;
            width: 4px;
            background-color: #94d2bd;
        }
        /* Styles for the speedometer canvas container */
        .speedometer-container {
            position: relative;
            width: 100%;
            max-width: 300px; /* Adjust max-width as needed */
            margin: 0 auto;
            padding-top: 50%; /* Aspect ratio for semi-circle */
            overflow: hidden;
        }
        .speedometer-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-[#005f73] text-white text-center p-8 md:p-12 shadow-lg">
        <h1 class="text-4xl md:text-6xl font-black tracking-tight">Recuperación Rápida</h1>
        <p class="text-xl md:text-2xl mt-2 font-light text-[#e9d8a6]">Nuestro Plan de Recuperación ante Desastres (DRP) en AWS</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="intro" class="text-center mb-12 md:mb-16">
            <h2 class="text-3xl font-bold text-[#005f73] mb-4">Un Proceso Ágil para Máxima Resiliencia</h2>
            <p class="max-w-3xl mx-auto text-lg">Nuestra estrategia de DRP está diseñada para una recuperación limpia y veloz. Mediante la automatización y una arquitectura desacoplada, minimizamos el tiempo de inactividad y garantizamos la continuidad del negocio. El tiempo total para tener la base y la seguridad listas es de aproximadamente 3 horas.</p>
        </section>

        <section id="timeline" class="mb-12 md:mb-20">
            <h2 class="text-3xl font-bold text-center text-[#005f73] mb-10">Cronograma de Recuperación</h2>
            <div class="relative max-w-4xl mx-auto">
                <div class="timeline-line"></div>
                
                <div class="relative pl-8 md:pl-12 mb-10 timeline-item">
                    <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-[#0a9396]">
                        <span class="absolute -left-1 top-2 text-sm font-bold bg-[#ee9b00] text-white px-3 py-1 rounded-full">Paso 1</span>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">Base: AWS Control Tower</h3>
                        <p class="mb-4">Se establece un entorno multi-cuenta seguro y bien arquitectado, proporcionando una base gobernada para una recuperación eficiente.</p>
                        <div class="text-4xl font-black text-[#ca6702]">~2 Horas</div>
                    </div>
                </div>

                <div class="relative pl-8 md:pl-12 mb-10 timeline-item">
                    <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-[#0a9396]">
                        <span class="absolute -left-1 top-2 text-sm font-bold bg-[#ee9b00] text-white px-3 py-1 rounded-full">Paso 2</span>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">Infraestructura Base</h3>
                        <p class="mb-4">Despliegue automatizado de la configuración de red, roles IAM y otros prerrequisitos comunes para preparar el entorno.</p>
                        <div class="text-4xl font-black text-[#ca6702]">30 Minutos</div>
                    </div>
                </div>

                <div class="relative pl-8 md:pl-12 mb-10 timeline-item">
                    <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-[#0a9396]">
                        <span class="absolute -left-1 top-2 text-sm font-bold bg-[#ee9b00] text-white px-3 py-1 rounded-full">Paso 3</span>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">Servicios de Seguridad</h3>
                        <p class="mb-4">Activación de servicios esenciales de seguridad para asegurar que el entorno recuperado esté protegido desde el primer momento.</p>
                        <div class="text-4xl font-black text-[#ca6702]">30 Minutos</div>
                    </div>
                </div>

                <div class="relative pl-8 md:pl-12 mb-10 timeline-item">
                    <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-[#0a9396]">
                        <span class="absolute -left-1 top-2 text-sm font-bold bg-[#ee9b00] text-white px-3 py-1 rounded-full">Paso 4</span>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">Creación Masiva de Cuentas</h3>
                        <p class="mb-4">Proceso automatizado vía CSV para provisionar nuevas cuentas de forma ágil, fundamental para reconstruir a gran escala.</p>
                        <div class="text-4xl font-black text-[#ca6702]">15 Min/Cuenta</div>
                    </div>
                </div>

                <div class="relative pl-8 md:pl-12 mb-10 timeline-item">
                    <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-[#0a9396]">
                        <span class="absolute -left-1 top-2 text-sm font-bold bg-[#ee9b00] text-white px-3 py-1 rounded-full">Paso 5</span>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">Despliegue Independiente</h3>
                        <p class="mb-4">Cada cuenta se despliega en paralelo, evitando interdependencias para minimizar el tiempo total de recuperación.</p>
                        <div class="text-4xl font-black text-[#ca6702]">Paralelo</div>
                    </div>
                </div>

                <div class="relative pl-8 md:pl-12 timeline-item">
                    <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-[#0a9396]">
                        <span class="absolute -left-1 top-2 text-sm font-bold bg-[#ee9b00] text-white px-3 py-1 rounded-full">Paso 6</span>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">Restauración y Go-Live</h3>
                        <p class="mb-4">Se restauran los datos críticos y se da inicio a la operación del flujo completo para reanudar las operaciones del negocio.</p>
                        <div class="text-4xl font-black text-[#ca6702]">Inicio</div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="charts" class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center mb-12 md:mb-20">
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-2xl font-bold text-center text-[#005f73] mb-4">Distribución del Tiempo de Setup Inicial</h3>
                <p class="text-center mb-4">La fase inicial de preparación se completa en aproximadamente 3 horas. La mayor parte del tiempo se dedica a la configuración robusta de Control Tower, que sienta las bases para todo lo demás.</p>
                <div class="chart-container">
                    <canvas id="setupTimeChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-2xl font-bold text-center text-[#005f73] mb-4">Clave del Éxito: Despliegue Paralelo</h3>
                <p class="text-center mb-6">Evitar interdependencias es crucial. Nuestra estrategia permite que múltiples cuentas se recuperen simultáneamente, reduciendo drásticamente el tiempo total de recuperación (RTO).</p>
                <div class="space-y-4">
                    <div class="text-center font-bold text-lg bg-[#e9d8a6] p-3 rounded-md shadow">Disparador del DRP</div>
                    <div class="flex justify-center">
                        <div class="w-px h-6 bg-[#94d2bd]"></div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                        <div class="bg-white p-4 rounded-md shadow-inner border border-gray-200">
                            <p class="font-semibold text-[#0a9396]">Cuenta A</p>
                            <div class="text-2xl">⚙️</div>
                            <p>Desplegando...</p>
                        </div>
                        <div class="bg-white p-4 rounded-md shadow-inner border border-gray-200">
                            <p class="font-semibold text-[#0a9396]">Cuenta B</p>
                            <div class="text-2xl">⚙️</div>
                            <p>Desplegando...</p>
                        </div>
                        <div class="bg-white p-4 rounded-md shadow-inner border border-gray-200">
                            <p class="font-semibold text-[#0a9396]">Cuenta C</p>
                            <div class="text-2xl">⚙️</div>
                            <p>Desplegando...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="security" class="bg-white p-6 md:p-8 rounded-lg shadow-lg mb-12 md:mb-20">
            <h2 class="text-3xl font-bold text-center text-[#005f73] mb-8">Capa de Seguridad Esencial</h2>
            <p class="text-center max-w-3xl mx-auto mb-8">Un conjunto de servicios de seguridad se despliega de forma centralizada para proteger toda la infraestructura desde el inicio de la recuperación.</p>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 text-center mb-8">
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">🛡️</div>
                    <h4 class="font-bold text-sm">Security Hub</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">📦</div>
                    <h4 class="font-bold text-sm">AWS Config</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">🔑</div>
                    <h4 class="font-bold text-sm">IAM Password Policy</h4>
                </div>
                 <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">🚫</div>
                    <h4 class="font-bold text-sm">S3 Block Public Access</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">🧱</div>
                    <h4 class="font-bold text-sm">Firewall Manager</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">💾</div>
                    <h4 class="font-bold text-sm">EBS Encryption</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">🕵️</div>
                    <h4 class="font-bold text-sm">GuardDuty</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">🔍</div>
                    <h4 class="font-bold text-sm">Inspector</h4>
                </div>
                <div class="p-4 bg-slate-50 rounded-lg">
                    <div class="text-4xl mb-2">📞</div>
                    <h4 class="font-bold text-sm">Alternate Contacts</h4>
                </div>
            </div>

            <div class="bg-[#e0f2f7] p-6 rounded-lg shadow-inner border border-[#94d2bd] text-center">
                <h3 class="text-2xl font-bold text-[#005f73] mb-4">Cumplimiento PCI DSS del 89% en Horas</h3>
                <p class="text-lg mb-4">Después de crear un par de cuentas de prueba, logramos un nivel de cumplimiento del <strong>89%</strong> en el estándar PCI DSS. Este resultado, normalmente, se consigue tras años de correcciones y mejoras en proyectos de gran envergadura, lo que demuestra la eficacia y rapidez de nuestra implementación.</p>
                <div class="speedometer-container">
                    <canvas id="pciComplianceSpeedometer" class="speedometer-canvas"></canvas>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-6 bg-[#005f73] text-white mt-12 md:mt-16">
        <p>Infraestructura diseñada para una resiliencia y recuperación superiores.</p>
    </footer>

    <script>
        const ctx = document.getElementById('setupTimeChart').getContext('2d');
        const setupTimeChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Control Tower (min)', 'Infraestructura Base (min)', 'Servicios de Seguridad (min)'],
                datasets: [{
                    label: 'Tiempo de Setup (minutos)',
                    data: [120, 30, 30],
                    backgroundColor: [
                        '#0a9396',
                        '#94d2bd',
                        '#ee9b00'
                    ],
                    borderColor: [
                        '#ffffff'
                    ],
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#005f73',
                            font: {
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                } else {
                                  return label;
                                }
                            }
                        }
                    }
                }
            }
        });

        // Speedometer for PCI Compliance
        const speedometerCanvas = document.getElementById('pciComplianceSpeedometer');
        const speedometerCtx = speedometerCanvas.getContext('2d');
        const compliancePercentage = 89; // 89% compliance

        function drawSpeedometer() {
            const size = Math.min(speedometerCanvas.width, speedometerCanvas.height * 2); // Use height * 2 for semi-circle
            const centerX = size / 2;
            const centerY = size / 2;
            const radius = size * 0.4; // Radius for the arc

            speedometerCtx.clearRect(0, 0, speedometerCanvas.width, speedometerCanvas.height);

            // Draw speedometer background arc (full range 0-100%)
            speedometerCtx.beginPath();
            speedometerCtx.arc(centerX, centerY, radius, Math.PI, 0, false); // Full semi-circle
            speedometerCtx.lineWidth = size * 0.08; // Thickness of the arc
            speedometerCtx.strokeStyle = '#ccc'; // Grey background for the full arc
            speedometerCtx.stroke();

            // Draw colored arcs for different compliance levels
            // Red (0-50%)
            speedometerCtx.beginPath();
            speedometerCtx.arc(centerX, centerY, radius, Math.PI, Math.PI * 0.5, false);
            speedometerCtx.strokeStyle = '#e76f51'; // Red
            speedometerCtx.stroke();

            // Yellow (50-80%)
            speedometerCtx.beginPath();
            speedometerCtx.arc(centerX, centerY, radius, Math.PI * 0.5, Math.PI * 0.2, false);
            speedometerCtx.strokeStyle = '#f4a261'; // Yellow
            speedometerCtx.stroke();

            // Green (80-100%)
            speedometerCtx.beginPath();
            speedometerCtx.arc(centerX, centerY, radius, Math.PI * 0.2, 0, false);
            speedometerCtx.strokeStyle = '#2a9d8f'; // Green
            speedometerCtx.stroke();

            // Draw the needle
            const angle = Math.PI - (compliancePercentage / 100) * Math.PI; // Angle from 180 (0%) to 0 (100%)
            const needleLength = radius * 0.9;
            const needleWidth = size * 0.02;

            speedometerCtx.beginPath();
            speedometerCtx.moveTo(centerX, centerY);
            speedometerCtx.lineTo(
                centerX + needleLength * Math.cos(angle),
                centerY - needleLength * Math.sin(angle)
            );
            speedometerCtx.lineWidth = needleWidth;
            speedometerCtx.strokeStyle = '#000'; // Black needle
            speedometerCtx.stroke();

            // Draw needle pivot point
            speedometerCtx.beginPath();
            speedometerCtx.arc(centerX, centerY, needleWidth * 1.5, 0, Math.PI * 2);
            speedometerCtx.fillStyle = '#000';
            speedometerCtx.fill();

            // Display compliance percentage text
            speedometerCtx.font = `${size * 0.15}px Inter`;
            speedometerCtx.textAlign = 'center';
            speedometerCtx.fillStyle = '#005f73';
            speedometerCtx.fillText(`${compliancePercentage}%`, centerX, centerY + size * 0.1);
        }

        // Set canvas dimensions for responsiveness
        function resizeSpeedometerCanvas() {
            const container = speedometerCanvas.parentElement;
            speedometerCanvas.width = container.clientWidth;
            speedometerCanvas.height = container.clientHeight;
            drawSpeedometer();
        }

        window.addEventListener('load', resizeSpeedometerCanvas);
        window.addEventListener('resize', resizeSpeedometerCanvas);
    </script>

</body>
</html>
